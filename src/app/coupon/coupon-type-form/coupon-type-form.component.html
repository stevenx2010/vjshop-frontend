<div>
	<form [formGroup]="form" (ngSubmit)="submit()">
		<div class="form-row">
			<div class="col-md-12">
				<h3>{{caption}}</h3>
			</div>
		</div>
		<div class="form-row">
			<div class="form-group col-md-4">
				<label for="type">优惠券类型名称</label>
				<input type="text" id="type" class="form-control" formControlName="type" required>
				<div *ngIf="form.controls.type.touched && form.controls.type.errors" class="alert alert-danger">
					<div *ngIf="form.controls.type.errors.required">
						必须填写优惠券类型名称
					</div>
				</div>
			</div>

			<div class="form-group col-md-6">
				<label for="description">优惠券类型描述</label>
				<input type="text" id="description" class="form-control" formControlName="description">
			</div>

			<div class="form-group col-md-2">
				<label for="sort-order">排序序号</label>
				<input type="text" id="sort-order" class="form-control" formControlName="sort_order" required>
				<div *ngIf="form.controls.sort_order.touched && form.controls.sort_order.errors" class="alert alert-danger">
					<div *ngIf="form.controls.sort_order.errors.required">
						必须填写排序序号
					</div>
					<div *ngIf="form.controls.sort_order.errors.pattern">
						排序序号必须是数字
					</div>
				</div>
			</div>
		</div>

		<div align="right" class="col-md-12">
			<button id="btn-1" type="submit" class="btn btn-success" [disabled]="!form.valid">保存优惠券类型</button>
			<button id="btn-2" type="button" class="btn btn-danger" (click)="cancel()">取消</button>
		</div>
	</form>
</div>

<style>
	.ng-valid[required], .ng-valid.required {
		border-left: 5px solid #42A948;
	}

	.ng-invalid:not(form) {
		border-left: 5px solid #a94442;
	}

	#btn-1 {
		margin-top: 3rem;
		margin-right: 2rem;
	}

	#btn-2 {
		margin-top: 3rem;
	}
	
</style>
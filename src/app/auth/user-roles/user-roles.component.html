<div class="form-row">
	<div class="col-md-12">
		<h3>用户权限管理</h3>
	</div>
</div>

<div class="form-row roles" *ngIf="displayRoles">
	<div class="form-group col-md-3">		
		<input type="checkbox" name="administrator" (change)="adminCheck($event)" [checked]="adminChecked">
		<label color="alert">&nbsp;系统管理员(S)</label>
	</div>
	<div class="form-group col-md-3">		
		<input type="checkbox" name="product-management" (change)="productManageCheck($event)" [checked]="productManageChecked">
		<label>&nbsp;产品管理(P)</label>
	</div>
	<div class="form-group col-md-3">
		<input type="checkbox" name="distributor-management" (change)="distributorManageCheck($event)" [checked]="distributorManageChecked">
		<label>&nbsp;经销商管理(D)</label>
	</div>
	<div class="form-group col-md-3">
		<input type="checkbox" name="coupon-management" (change)="couponManageCheck($event)" [checked]="couponManageChecked">
		<label>&nbsp;优惠券管理(C)</label>
	</div>

	<div class="form-group col-md-3">		
		<input type="checkbox" name="order-managment" (change)="orderManageCheck($event)" [checked]="orderManageChecked">
		<label color="alert">&nbsp;订单管理(O)</label>
	</div>
	<div class="form-group col-md-3">		
		<input type="checkbox" name="invoice-management" (change)="invoiceManageCheck($event)" [checked]="invoiceManageChecked">
		<label>&nbsp;发票管理(I)</label>
	</div>
	<div class="form-group col-md-3">
		<input type="checkbox" name="page-management" (change)="pageManageCheck($event)" [checked]="pageManageChecked">
		<label>&nbsp;页面管理(G)</label>
	</div>
	<div class="form-group col-md-3">
		<input type="checkbox" name="setting-management" (change)="settingManageCheck($event)" [checked]="settingManageChecked">
		<label>&nbsp;设置管理(T)</label>
	</div>	
	<div class="col-md-12">
		<button id="btn-0" type="button" class="btn btn-success btn-rect" (click)="save()">保存数据</button>
		<button type="button" class="btn btn-danger btn-rect" (click)="cancel()">取消</button>
	</div>
</div>


<div class="form-row">
	<div class="col-md-12">
		<table class="table table-bordered table-hover">
			<thead align="center">
				<tr>
					<th>#</th>
					<th>用户名</th>
					<th>邮箱地址</th>
					<th>S</th>
					<th>P</th>
					<th>D</th>
					<th>C</th>
					<th>O</th>
					<th>I</th>
					<th>G</th>
					<th>T</th>
					<th>选取</th>
				</tr>
			</thead>
			<tbody>
				<tr *ngFor="let user of users; let i = index" [class.active]="selectedItem == i">
					<th scope="row">{{user?.id}}</th>
					<td>{{user?.name}}</td>
					<td>{{user?.email}}</td>
					<td *ngIf="bitwise(user.roles, role.ADMINISTRATOR)">1</td>
					<td *ngIf="!bitwise(user.roles, role.ADMINISTRATOR)">0</td>
					
					<td *ngIf="bitwise(user.roles, role.PRODUCT_MANAGER)">1</td>
					<td *ngIf="!bitwise(user.roles, role.PRODUCT_MANAGER)">0</td>				
					
					<td *ngIf="bitwise(user.roles, role.DISTRIBUTOR_MANAGER)">1</td>
					<td *ngIf="!bitwise(user.roles, role.DISTRIBUTOR_MANAGER)">0</td>
					
					<td *ngIf="bitwise(user.roles, role.COUPON_MANAGER)">1</td>
					<td *ngIf="!bitwise(user.roles, role.COUPON_MANAGER)">0</td>
					
					<td *ngIf="bitwise(user.roles, role.ORDER_MANAGER)">1</td>
					<td *ngIf="!bitwise(user.roles, role.ORDER_MANAGER)">0</td>
					
					<td *ngIf="bitwise(user.roles, role.INVOICE_MANAGER)">1</td>
					<td *ngIf="!bitwise(user.roles, role.INVOICE_MANAGER)">0</td>
					
					<td *ngIf="bitwise(user.roles, role.PAGE_MANAGER)">1</td>
					<td *ngIf="!bitwise(user.roles, role.PAGE_MANAGER)">0</td>
					
					<td *ngIf="bitwise(user.roles, role.SETTING_MANAGER)">1</td>
					<td *ngIf="!bitwise(user.roles, role.SETTING_MANAGER)">0</td>

					<td><i class="fa fa-check" (click)="select(i)" data-content="select"></i></td>
				</tr>
			</tbody>
		</table>
	</div>
</div>
		

<style>
	.roles {
		font-size: 1.8rem;
	}

	h3 {
		margin-top: 4rem;
		margin-bottom: 3rem;
	}

	[data-content="select"]:hover {
		color: #33ff56;
		cursor: pointer;

	}

	.active {
		background-color: #c1c1c1;
		color: red;
	}

	button {
		margin-top:3rem;
		margin-bottom: 3rem;
	}

	#btn-0 {
		margin-right: 3rem;
	}
</style>